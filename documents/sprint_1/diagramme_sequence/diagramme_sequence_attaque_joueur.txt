@startuml

title "Attaque joueur - Sequence Diagram"


Main -> Jeu : demarrerPartie()
Jeu -> Jeu : controles(cmd)
Jeu -> Joueur : attaquer()
Joueur -> Arme : getPortee()
Arme --> Joueur : portee
Joueur -> Arme : getZone()
Arme --> Joueur : zone
Joueur -> Arme : getDegats()
Arme --> Joueur : degats
	loop forEach Entite e
		alt Entite touchÃ©e par l'attaque
			Joueur -> Joueur : ajout de l'entite dans la liste de retour
		end
	end
	Joueur --> Jeu : ArrayList<Entite>
	alt liste non vide
		loop forEach Entite e
			Jeu -> Entite : prendreDegats(degats)
			alt degats > pv 
				Entite --> Jeu : true
				Jeu -> ThreadMonstre : kill()
			else
				Entite --> Jeu : false
				Entite -> Entite : pv - degats
			end
		end
	end
@enduml